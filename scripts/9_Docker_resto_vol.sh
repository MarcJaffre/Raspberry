clear;
cat > restore.sh << EOF

#######################################################################################################################
#!/usr/bin/bash

#######################################################################################################################
# Nettoyage de la console #
###########################
clear;

#######################################################################################################################
# Chargement du ficher settings #
#################################
source ./settings;

#######################################################################################################################
# Question #
############
read -p "Souhaitez vous lancer la restauration ? (o|y) " VALIDATION

#######################################################################################################################
# Restauration #
################
if (( \$VALIDATION == y || \$VALIDATION == o ));then
   for VOLUME in \$(ls \$DATASTORE | cut -d "." -f1 | xargs -n1)
   do
    # Actions par volume
    echo "# --------------------------------------------------------- #";
    echo "Restauration du volume \$VOLUME en cours";
    # ----------------------------------------------------------------------------- #
    docker-volume-snapshot restore \$DATASTORE/\$VOLUME.tar \$VOLUME 1>/dev/null;
    # ----------------------------------------------------------------------------- #
    echo "Restauration termin√©e";
    echo "";
   done
fi
#######################################################################################################################
EOF
